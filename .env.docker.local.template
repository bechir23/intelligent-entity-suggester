# Docker Environment Configuration for Intelligent Entity Suggester
# This file contains all necessary environment variables for running the application in Docker

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Database Configuration (Local Docker PostgreSQL)
POSTGRES_PASSWORD=intelligent_suggester_password_2025_secure
POSTGRES_DB=postgres
POSTGRES_USER=postgres

# JWT Configuration (32+ character secrets)
JWT_SECRET=intelligent-entity-suggester-jwt-secret-2025-production-ready-key-32chars
JWT_EXPIRY=3600

# Supabase API Keys (Demo keys for local development)
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# Secret key for realtime
SECRET_KEY_BASE=intelligent_suggester_realtime_secret_key_base_2025_minimum_32_characters

# =============================================================================
# APPLICATION URLS
# =============================================================================

SITE_URL=http://localhost:5173
FRONTEND_URL=http://localhost:5173
API_URL=http://localhost:3001
ADDITIONAL_REDIRECT_URLS=

# =============================================================================
# AUTH CONFIGURATION
# =============================================================================

DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true

# =============================================================================
# EMAIL CONFIGURATION (Development)
# =============================================================================

SMTP_ADMIN_EMAIL=admin@intelligent-suggester.local
SMTP_HOST=supabase-mail
SMTP_PORT=2500
SMTP_USER=intelligent_suggester_user
SMTP_PASS=intelligent_suggester_smtp_pass
SMTP_SENDER_NAME=Intelligent Entity Suggester

# Mailer URL paths
MAILER_URLPATHS_INVITE=/auth/v1/verify
MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
MAILER_URLPATHS_RECOVERY=/auth/v1/verify
MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=production
PORT=3001

# Frontend Environment Variables (for Docker)
VITE_SUPABASE_URL=http://localhost:8000
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
VITE_API_URL=http://localhost:3001/api
VITE_WS_URL=ws://localhost:3001

# =============================================================================
# SUPABASE INTERNAL CONFIGURATION
# =============================================================================

# Database Configuration for Supabase Services
PGRST_DB_URI=postgres://postgres:intelligent_suggester_password_2025_secure@db:5432/postgres
PGRST_DB_SCHEMA=public
PGRST_DB_ANON_ROLE=anon
PGRST_JWT_SECRET=intelligent-entity-suggester-jwt-secret-2025-production-ready-key-32chars
PGRST_DB_USE_LEGACY_GUCS=false

# GoTrue Configuration
GOTRUE_API_HOST=0.0.0.0
GOTRUE_API_PORT=9999
GOTRUE_DB_DRIVER=postgres
GOTRUE_JWT_ADMIN_ROLES=service_role
GOTRUE_JWT_AUD=authenticated
GOTRUE_JWT_DEFAULT_GROUP_NAME=authenticated

# Realtime Configuration
DB_HOST=db
DB_PORT=5432
DB_USER=postgres
DB_NAME=postgres
DB_AFTER_CONNECT_QUERY=SET search_path TO _realtime
DB_ENC_KEY=supabaserealtime
API_JWT_SECRET=intelligent-entity-suggester-jwt-secret-2025-production-ready-key-32chars
ERL_AFLAGS=-proto_dist inet_tcp
ENABLE_TAILSCALE=false
DNS_NODES="''"

# Storage Configuration
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
POSTGREST_URL=http://rest:3000
PGOPTIONS=-c search_path=storage,public
FILE_SIZE_LIMIT=52428800
STORAGE_BACKEND=file
FILE_STORAGE_BACKEND_PATH=/var/lib/storage
TENANT_ID=stub
REGION=stub
GLOBAL_S3_BUCKET=stub
